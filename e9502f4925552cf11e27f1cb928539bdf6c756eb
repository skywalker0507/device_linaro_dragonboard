{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3c9f7d2f_e13d11c5",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1010110
      },
      "writtenOn": "2021-08-20T19:07:10Z",
      "side": 1,
      "message": "Might we add this command to the flashall script?",
      "range": {
        "startLine": 14,
        "startChar": 5,
        "endLine": 14,
        "endChar": 75
      },
      "revId": "e9502f4925552cf11e27f1cb928539bdf6c756eb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef165f66_123dc637",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1031448
      },
      "writtenOn": "2021-08-20T19:24:39Z",
      "side": 1,
      "message": "Adding it to a flash script seem to be an overkill because we need to upgrade the firmware only once. I have been told that there is a relatively easier way to update the firmware by writing to a sysfs entry which might be doable from init.rc. I\u0027m gonna try doing that next.",
      "parentUuid": "3c9f7d2f_e13d11c5",
      "range": {
        "startLine": 14,
        "startChar": 5,
        "endLine": 14,
        "endChar": 75
      },
      "revId": "e9502f4925552cf11e27f1cb928539bdf6c756eb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7a54b4c_0644f4cb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1031448
      },
      "writtenOn": "2021-08-31T11:38:12Z",
      "side": 1,
      "message": "Now that I have spent considerable amount of time experimenting around this, adding this fimrware update in flashall script makes most sense to me :p\n\nWe can work around the selinux issues in existing firmware update service/script but it takes about 60-80 seconds to finish the firmware update and by that time Composer and other graphics services are already up and crashing, and they do not recover even after the firmware update is done.\n\nI\u0027ve already raised this issue with lt9611uxc driver maintainer and requested him if this firmware-update can be handled more efficiently in the driver itself.",
      "parentUuid": "ef165f66_123dc637",
      "range": {
        "startLine": 14,
        "startChar": 5,
        "endLine": 14,
        "endChar": 75
      },
      "revId": "e9502f4925552cf11e27f1cb928539bdf6c756eb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b236c2e2_3371bf62",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1010110
      },
      "writtenOn": "2021-08-31T21:48:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d7a54b4c_0644f4cb",
      "range": {
        "startLine": 14,
        "startChar": 5,
        "endLine": 14,
        "endChar": 75
      },
      "revId": "e9502f4925552cf11e27f1cb928539bdf6c756eb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b49cde2_5cd0ef8e",
        "filename": "sepolicy/lt9611uxc_fw_update.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1081223
      },
      "writtenOn": "2021-08-20T19:11:54Z",
      "side": 1,
      "message": "this doesn\u0027t look good.\nkernel should attempt to get the firmware by default, compare the version and then flash if needed",
      "revId": "e9502f4925552cf11e27f1cb928539bdf6c756eb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0010d3d9_3ff9b8c6",
        "filename": "sepolicy/lt9611uxc_fw_update.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1031448
      },
      "writtenOn": "2021-08-20T19:24:39Z",
      "side": 1,
      "message": "Indeed. Selinux won\u0027t allow firmware handling from userspace at all and this is just a placeholder. Firmware upgrade part was missing in the driver when I tried it the last time. I have been told that there is also a relatively easier way to update the firmware by writing to a sysfs entry which might be doable from init.rc. I\u0027m gonna try doing that next.",
      "parentUuid": "2b49cde2_5cd0ef8e",
      "revId": "e9502f4925552cf11e27f1cb928539bdf6c756eb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d5b475a9_7c8b87cc",
        "filename": "sepolicy/lt9611uxc_fw_update.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1081223
      },
      "writtenOn": "2021-08-20T19:46:08Z",
      "side": 1,
      "message": "Looking at the driver a simple \"write $path/lt9611uxc_firmware 1\" will trigger it ( any value )\nBut I\u0027d rather have the kernel handle firmware by itself instead of relying of firmware to update it manually.\nCurrently it only attempts to update if version is 0",
      "parentUuid": "0010d3d9_3ff9b8c6",
      "revId": "e9502f4925552cf11e27f1cb928539bdf6c756eb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "02dca646_cde4c087",
        "filename": "sepolicy/lt9611uxc_fw_update.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1031448
      },
      "writtenOn": "2021-08-20T20:16:45Z",
      "side": 1,
      "message": "yeah.. \"write /sys/bus/i2c/devices/5-002b/lt9611uxc_firmware 1\" is what it is but so far I\u0027m not able to update the fw early enough (takes about 60-70 seconds to update fw) to avoid SF tripping over it. I\u0027ll try again tomorrow.",
      "parentUuid": "d5b475a9_7c8b87cc",
      "revId": "e9502f4925552cf11e27f1cb928539bdf6c756eb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ce190727_0634d0a3",
        "filename": "sepolicy/lt9611uxc_fw_update.te",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1010110
      },
      "writtenOn": "2021-08-31T21:48:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "02dca646_cde4c087",
      "revId": "e9502f4925552cf11e27f1cb928539bdf6c756eb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
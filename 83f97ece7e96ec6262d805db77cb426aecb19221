{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d8614ebe_9157d178",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1031448
      },
      "writtenOn": "2022-06-06T11:47:29Z",
      "side": 1,
      "message": "WiFi, BT, audio/video playback works.\nChromium webview is broken https://bugs.chromium.org/p/chromium/issues/detail?id\u003d1316427\n\nMajor blocker in this approach are the selinux denials.\n\nThe vendor_init do not have the privilege to set sys.use_memfd property:\ntype\u003d1107 audit(3423.511:245): uid\u003d0 auid\u003d4294967295 ses\u003d4294967295 subj\u003du:r:init:s0 msg\u003d\u0027avc: denied { set } for property\u003dsys.use_memfd pid\u003d261 uid\u003d0 gid\u003d0 sconte     xt\u003du:r:vendor_init:s0 tcontext\u003du:object_r:use_memfd_prop:s0 tclass\u003dproperty_service permissive\u003d1\u0027\n\nAnd tmpfs:file{getattr read map write} access need to be more fine controlled as well.",
      "revId": "83f97ece7e96ec6262d805db77cb426aecb19221",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d0fa8922_047166ae",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1945845
      },
      "writtenOn": "2022-06-08T18:58:24Z",
      "side": 1,
      "message": "I\u0027ve emailed Amit some thoughts on what might be a better (but slightly more complicated) approach on this would be. \n\nBriefly: Working to enable the change in a non-device specific way, and looking adding kernel compatibility for the ashmem ioctl on a memfd edge case that is biting webview.",
      "revId": "83f97ece7e96ec6262d805db77cb426aecb19221",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "05baee4e_800067a7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1365444
      },
      "writtenOn": "2022-06-22T20:53:05Z",
      "side": 1,
      "message": "I think you\u0027ve been testing an old webview because Chromium webview works with sys.use_memfd since version 101. See also: https://bugs.chromium.org/p/chromium/issues/detail?id\u003d1299437",
      "parentUuid": "d0fa8922_047166ae",
      "revId": "83f97ece7e96ec6262d805db77cb426aecb19221",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fd4217c1_fbcbbb73",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1031448
      },
      "writtenOn": "2022-06-29T14:51:16Z",
      "side": 1,
      "message": "Thank you for the pointer. I tested it on 100.0.4896.133.",
      "parentUuid": "05baee4e_800067a7",
      "revId": "83f97ece7e96ec6262d805db77cb426aecb19221",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f60ccfd2_7565c858",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1877755
      },
      "writtenOn": "2022-09-02T13:50:14Z",
      "side": 1,
      "message": "Hi, is there any progress on getting this to work with selinux enforcing?",
      "revId": "83f97ece7e96ec6262d805db77cb426aecb19221",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0c006c4f_ed509b86",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1945845
      },
      "writtenOn": "2022-12-20T07:23:48Z",
      "side": 1,
      "message": "Just FYI: Took a little bit of time today to take an initial swing at ashmem ioctl support on memfd: https://github.com/johnstultz-work/linux-dev/commits/memfd-ashmem-ioctl  - only build tested, haven\u0027t tried actually using it yet.\n\nMight be a starting point if anyone wants to push this along.",
      "revId": "83f97ece7e96ec6262d805db77cb426aecb19221",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c2ad0cf5_007eb635",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1365444
      },
      "writtenOn": "2022-12-20T11:01:35Z",
      "side": 1,
      "message": "That\u0027s nice. \nDo you think it\u0027s upstreamable (when complete)?\n\nAlso I wonder if those packages using ashmem ioctls aren\u0027t also just opening /dev/ashmem to get a memory region, making this not so helpful...\n\nAre you tracking a list of affected apps? I\u0027ve heard some (or maybe all) games by Gameloft on the Play Store currently require some ashmem operations",
      "parentUuid": "0c006c4f_ed509b86",
      "revId": "83f97ece7e96ec6262d805db77cb426aecb19221",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d086c7bc_5579afdd",
        "filename": "sepolicy/memfd.te",
        "patchSetId": 1
      },
      "lineNbr": 8,
      "author": {
        "id": 1054468
      },
      "writtenOn": "2022-12-07T19:17:24Z",
      "side": 1,
      "message": "memfd objects should never be labeled as tmpfs. They should be \u003cfoo\u003e_tmpfs e.g. in this case bluetooth_tmpfs.",
      "range": {
        "startLine": 8,
        "startChar": 16,
        "endLine": 8,
        "endChar": 21
      },
      "revId": "83f97ece7e96ec6262d805db77cb426aecb19221",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3d7645f9_e590751a",
        "filename": "sepolicy/memfd.te",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1031448
      },
      "writtenOn": "2022-06-06T11:50:30Z",
      "side": 1,
      "message": "Don\u0027t need this ^^. Will drop it in the next version.",
      "revId": "83f97ece7e96ec6262d805db77cb426aecb19221",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}
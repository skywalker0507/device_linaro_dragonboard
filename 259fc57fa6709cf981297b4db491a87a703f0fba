{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4437fd58_20d74e77",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1031448
      },
      "writtenOn": "2022-02-17T17:36:17Z",
      "side": 1,
      "message": "Smoke tested the current series on db845c and rb5 full targets, and didn\u0027t run into any obvious regression. _mini target builds still fail to build even after cherry-picking system/core and build/target patches from Gerrit, so I\u0027m assuming it is still a WIP.",
      "revId": "259fc57fa6709cf981297b4db491a87a703f0fba",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c2976636_6079a14f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1067098
      },
      "writtenOn": "2022-02-17T19:59:28Z",
      "side": 1,
      "message": "Hi Amit, what did the build failure for the _mini target look like for you? As far as I recall https://android-review.googlesource.com/q/Ic26f76142afb5f700bd7b12359d62feb2652b617 (which landed today) was the only dependency.",
      "parentUuid": "4437fd58_20d74e77",
      "revId": "259fc57fa6709cf981297b4db491a87a703f0fba",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b5fdb124_b6dc16e1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1031448
      },
      "writtenOn": "2022-02-18T06:40:17Z",
      "side": 1,
      "message": "ERROR: files are incompatible: Device manifest and framework compatibility matrix are incompatible: HALs incompatible. Matrix level \u003d 4. Manifest level \u003d 4.\n\nFull log:\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nPLATFORM_VERSION_CODENAME\u003dTiramisu\nPLATFORM_VERSION\u003dTiramisu\nTARGET_PRODUCT\u003ddb845c_mini\nTARGET_BUILD_VARIANT\u003duserdebug\nTARGET_BUILD_TYPE\u003drelease\nTARGET_ARCH\u003darm64\nTARGET_ARCH_VARIANT\u003darmv8-2a\nTARGET_CPU_VARIANT\u003dkryo385\nTARGET_2ND_ARCH\u003darm\nTARGET_2ND_ARCH_VARIANT\u003darmv8-2a\nTARGET_2ND_CPU_VARIANT\u003dkryo385\nHOST_ARCH\u003dx86_64\nHOST_2ND_ARCH\u003dx86\nHOST_OS\u003dlinux\nHOST_OS_EXTRA\u003dLinux-5.13.0-28-generic-x86_64-Ubuntu-20.04.3-LTS\nHOST_CROSS_OS\u003dwindows\nHOST_CROSS_ARCH\u003dx86\nHOST_CROSS_2ND_ARCH\u003dx86_64\nHOST_BUILD_TYPE\u003drelease\nBUILD_ID\u003dAOSP.MASTER\nOUT_DIR\u003dout\nPRODUCT_SOONG_NAMESPACES\u003ddevice/linaro/dragonboard external/mesa3d vendor/linaro/linux-firmware/20220210 vendor/linaro/db845c/20220210 vendor/linaro/rb5/20220210\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\nwildcard(out/target/product/db845c/clean_steps.mk) was changed, regenerating...\n[ 24% 1031/4269] build out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/check_vintf_compatible.log\nFAILED: out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/check_vintf_compatible.log\n/bin/bash -c \"(echo \\\"PRODUCT_OTA_ENFORCE_VINTF_KERNEL_REQUIREMENTS\u003dtrue\\\" \u003e out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/check_vintf_compatible.log ) \u0026\u0026 (echo -n -e \u0027Deps: \\\\n  \u0027 \u003e\u003e out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/check_vintf_compatible.log ) \u0026\u0026 (sed \u0027s/ /\\\\n  /g\u0027 \u003c\u003c\u003c \\\"out/target/product/db845c/system/etc/vintf/compatibility_matrix.3.xml out/target/product/db845c/system/etc/vintf/compatibility_matrix.4.xml out/target/product/db845c/system/etc/vintf/compatibility_matrix.5.xml out/target/product/db845c/system/etc/vintf/compatibility_matrix.6.xml out/target/product/db845c/system/etc/vintf/compatibility_matrix.current.xml out/target/product/db845c/system/etc/vintf/compatibility_matrix.device.xml out/target/product/db845c/system/etc/vintf/manifest.xml out/target/product/db845c/system/etc/vintf/manifest/android.frameworks.stats@1.0-service.xml out/target/product/db845c/system/etc/vintf/manifest/android.hidl.allocator@1.0-service.xml out/target/product/db845c/system/etc/vintf/manifest/android.system.keystore2-service.xml out/target/product/db845c/system/etc/vintf/manifest/android.system.suspend@1.0-service.xml out/target/product/db845c/system/etc/vintf/manifest/manifest_media_c2_software.xml out/target/product/db845c/vendor/etc/vintf/compatibility_matrix.xml out/target/product/db845c/vendor/etc/vintf/manifest.xml out/target/product/db845c/vendor/etc/vintf/manifest/android.hardware.boot@1.2.xml out/target/product/db845c/vendor/etc/vintf/manifest/android.hardware.keymaster@4.1-service.xml out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/kernel_configs.txt out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/kernel_version.txt\\\" \u003e\u003e out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/check_vintf_compatible.log ) \u0026\u0026 (echo -n -e \u0027Args: \\\\n  \u0027 \u003e\u003e out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/check_vintf_compatible.log ) \u0026\u0026 (cat \u003c\u003c\u003c \\\" --kernel out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/kernel_version.txt:out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/kernel_configs.txt --dirmap /system:out/target/product/db845c/system --dirmap /vendor:out/target/product/db845c/vendor --dirmap /odm:out/target/product/db845c/vendor/odm --dirmap /product:out/target/product/db845c/product --dirmap /system_ext:out/target/product/db845c/system_ext  --property ro.product.first_api_level\u003d31\\\" \u003e\u003e out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/check_vintf_compatible.log ) \u0026\u0026 (echo \\\"For ODM SKU \u003d EMPTY_ODM_SKU_PLACEHOLDER, vendor SKU \u003d EMPTY_VENDOR_SKU_PLACEHOLDER\\\" \u003e\u003e out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/check_vintf_compatible.log; ( out/host/linux-x86/bin/checkvintf --check-compat  --kernel out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/kernel_version.txt:out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/kernel_configs.txt --dirmap /system:out/target/product/db845c/system --dirmap /vendor:out/target/product/db845c/vendor --dirmap /odm:out/target/product/db845c/vendor/odm --dirmap /product:out/target/product/db845c/product --dirmap /system_ext:out/target/product/db845c/system_ext  --property ro.product.first_api_level\u003d31 --property ro.boot.product.hardware.sku\u003d --property ro.boot.product.vendor.sku\u003d \u003e\u003e out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/check_vintf_compatible.log 2\u003e\u00261 ) || (cat out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/check_vintf_compatible.log \u0026\u0026 exit 1) )\"\nPRODUCT_OTA_ENFORCE_VINTF_KERNEL_REQUIREMENTS\u003dtrue\nDeps: \n  out/target/product/db845c/system/etc/vintf/compatibility_matrix.3.xml\n  out/target/product/db845c/system/etc/vintf/compatibility_matrix.4.xml\n  out/target/product/db845c/system/etc/vintf/compatibility_matrix.5.xml\n  out/target/product/db845c/system/etc/vintf/compatibility_matrix.6.xml\n  out/target/product/db845c/system/etc/vintf/compatibility_matrix.current.xml\n  out/target/product/db845c/system/etc/vintf/compatibility_matrix.device.xml\n  out/target/product/db845c/system/etc/vintf/manifest.xml\n  out/target/product/db845c/system/etc/vintf/manifest/android.frameworks.stats@1.0-service.xml\n  out/target/product/db845c/system/etc/vintf/manifest/android.hidl.allocator@1.0-service.xml\n  out/target/product/db845c/system/etc/vintf/manifest/android.system.keystore2-service.xml\n  out/target/product/db845c/system/etc/vintf/manifest/android.system.suspend@1.0-service.xml\n  out/target/product/db845c/system/etc/vintf/manifest/manifest_media_c2_software.xml\n  out/target/product/db845c/vendor/etc/vintf/compatibility_matrix.xml\n  out/target/product/db845c/vendor/etc/vintf/manifest.xml\n  out/target/product/db845c/vendor/etc/vintf/manifest/android.hardware.boot@1.2.xml\n  out/target/product/db845c/vendor/etc/vintf/manifest/android.hardware.keymaster@4.1-service.xml\n  out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/kernel_configs.txt\n  out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/kernel_version.txt\nArgs: \n   --kernel out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/kernel_version.txt:out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/kernel_configs.txt --dirmap /system:out/target/product/db845c/system --dirmap /vendor:out/target/product/db845c/vendor --dirmap /odm:out/target/product/db845c/vendor/odm --dirmap /product:out/target/product/db845c/product --dirmap /system_ext:out/target/product/db845c/system_ext  --property ro.product.first_api_level\u003d31\nFor ODM SKU \u003d EMPTY_ODM_SKU_PLACEHOLDER, vendor SKU \u003d EMPTY_VENDOR_SKU_PLACEHOLDER\nCannot parse \"out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/kernel_version.txt\" as kernel version, parsing as GKI kernel release.\nCannot parse \"out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/kernel_version.txt\" as GKI kernel release, parsing as kernel release\nCannot parse \"out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/kernel_version.txt\" as kernel release\nCannot parse \"5.15.22-android13-0-00124-g71f632baf22d-ab8167848\" as kernel version, parsing as GKI kernel release.\nSuccessfully parsed content of out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/kernel_version.txt: 5.15.22-android13-0-00124-g71f632baf22d-ab8167848\ngetFrameworkHalManifest: Reading VINTF information.\nFetch \u0027out/target/product/db845c/system/etc/vintf/manifest.xml\u0027: OK\nList \u0027out/target/product/db845c/system/etc/vintf/manifest/\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/manifest/android.system.suspend@1.0-service.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/manifest/android.frameworks.stats@1.0-service.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/manifest/android.hidl.allocator@1.0-service.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/manifest/manifest_media_c2_software.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/manifest/android.system.keystore2-service.xml\u0027: OK\nFetch \u0027out/target/product/db845c/product/etc/vintf/manifest.xml\u0027: NAME_NOT_FOUND\nList \u0027out/target/product/db845c/product/etc/vintf/manifest/\u0027: NAME_NOT_FOUND\nFetch \u0027out/target/product/db845c/system_ext/etc/vintf/manifest.xml\u0027: NAME_NOT_FOUND\nList \u0027out/target/product/db845c/system_ext/etc/vintf/manifest/\u0027: NAME_NOT_FOUND\ngetDeviceHalManifest: Reading VINTF information.\nSysprop ro.boot.product.vendor.sku\u003d\nFetch \u0027out/target/product/db845c/vendor/etc/vintf/manifest.xml\u0027: OK\nList \u0027out/target/product/db845c/vendor/etc/vintf/manifest/\u0027: OK\nFetch \u0027out/target/product/db845c/vendor/etc/vintf/manifest/android.hardware.boot@1.2.xml\u0027: OK\nFetch \u0027out/target/product/db845c/vendor/etc/vintf/manifest/android.hardware.keymaster@4.1-service.xml\u0027: OK\nSysprop ro.boot.product.hardware.sku\u003d\nFetch \u0027out/target/product/db845c/vendor/odm/etc/vintf/manifest.xml\u0027: NAME_NOT_FOUND\nFetch \u0027out/target/product/db845c/vendor/odm/etc/manifest.xml\u0027: NAME_NOT_FOUND\nList \u0027out/target/product/db845c/vendor/odm/etc/vintf/manifest/\u0027: NAME_NOT_FOUND\ngetDeviceHalManifest: Successfully processed VINTF information\ngetFrameworkHalManifest: Successfully processed VINTF information\nfetched kernel level from RuntimeInfo \u00277\u0027\ngetFrameworkCompatibilityMatrix: Reading VINTF information.\nList \u0027out/target/product/db845c/system/etc/vintf/\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.3.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.current.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/manifest.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.4.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.5.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.6.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.device.xml\u0027: OK\nList \u0027out/target/product/db845c/system_ext/etc/vintf/\u0027: NAME_NOT_FOUND\nList \u0027out/target/product/db845c/product/etc/vintf/\u0027: NAME_NOT_FOUND\ngetFrameworkCompatibilityMatrix: Successfully processed VINTF information\ngetDeviceCompatibilityMatrix: Reading VINTF information.\nFetch \u0027out/target/product/db845c/vendor/etc/vintf/compatibility_matrix.xml\u0027: OK\ngetDeviceCompatibilityMatrix: Successfully processed VINTF information\nfetched kernel version 5.15.22\nread kernel configs from out/target/product/db845c/obj/PACKAGING/check_vintf_all_intermediates/kernel_configs.txt\nList \u0027out/target/product/db845c/system/etc/vintf/\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.3.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.current.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/manifest.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.4.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.5.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.6.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.device.xml\u0027: OK\nList \u0027out/target/product/db845c/system_ext/etc/vintf/\u0027: NAME_NOT_FOUND\nList \u0027out/target/product/db845c/product/etc/vintf/\u0027: NAME_NOT_FOUND\nList \u0027out/target/product/db845c/system/etc/vintf/\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.3.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.current.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/manifest.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.4.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.5.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.6.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.device.xml\u0027: OK\nList \u0027out/target/product/db845c/system_ext/etc/vintf/\u0027: NAME_NOT_FOUND\nList \u0027out/target/product/db845c/product/etc/vintf/\u0027: NAME_NOT_FOUND\nSkip checking unused HALs.\nList \u0027out/target/product/db845c/system/etc/vintf/\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.3.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.current.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/manifest.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.4.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.5.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.6.xml\u0027: OK\nFetch \u0027out/target/product/db845c/system/etc/vintf/compatibility_matrix.device.xml\u0027: OK\nList \u0027out/target/product/db845c/system_ext/etc/vintf/\u0027: NAME_NOT_FOUND\nList \u0027out/target/product/db845c/product/etc/vintf/\u0027: NAME_NOT_FOUND\nThe following HALs in device manifest are not declared in FCM \u003c\u003d level 4: \n  android.hardware.boot@1.2::IBootControl/default\n  android.hardware.keymaster@4.1::IKeymasterDevice/default\nERROR: files are incompatible: Device manifest and framework compatibility matrix are incompatible: HALs incompatible. Matrix level \u003d 4. Manifest level \u003d 4. The following requirements are not met:\nandroid.hardware.audio:\n    required: \n        @5.0::IDevicesFactory/default OR\n        @6.0::IDevicesFactory/default OR\n        @7.0-1::IDevicesFactory/default\n    provided: \nandroid.hardware.audio.effect:\n    required: \n        @5.0::IEffectsFactory/default OR\n        @6.0::IEffectsFactory/default OR\n        @7.0::IEffectsFactory/default\n    provided: \nandroid.hardware.gatekeeper:\n    required: @1.0::IGatekeeper/default\n    provided: \nandroid.hardware.graphics.allocator:\n    required: \n        @2.0::IAllocator/default OR\n        @3.0::IAllocator/default OR\n        @4.0::IAllocator/default\n    provided: \nandroid.hardware.graphics.composer:\n    required: @2.1-4::IComposer/default\n    provided: \nandroid.hardware.graphics.mapper:\n    required: \n        @2.1::IMapper/default OR\n        @3.0::IMapper/default OR\n        @4.0::IMapper/default\n    provided: \n: Success\nINCOMPATIBLE\n02:14:06 ninja failed with: exit status 1\n\n#### failed to build some targets (9 seconds) ####",
      "parentUuid": "c2976636_6079a14f",
      "revId": "259fc57fa6709cf981297b4db491a87a703f0fba",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}